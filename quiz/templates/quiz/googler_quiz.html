<!DOCTYPE html>
<html>
<head>
<title>Googler Round | Digital Treasure Hunt</title>

<style>
body{
 margin:0;
 font-family:Segoe UI;
 background:radial-gradient(circle at top,#0b1220,#020409);
 color:#b7f7ff;
 overflow-x:hidden;
}

/* Moving Cyber Grid */
body::before{
 content:"";
 position:fixed;
 inset:0;
 background:
  linear-gradient(rgba(0,255,255,0.05) 1px, transparent 1px),
  linear-gradient(90deg, rgba(0,255,255,0.05) 1px, transparent 1px);
 background-size:40px 40px;
 animation:gridMove 60s linear infinite;
 pointer-events:none;
}
@keyframes gridMove{
 from{background-position:0 0;}
 to{background-position:900px 500px;}
}

/* Header */
.header{
 background:linear-gradient(90deg,#00ffe7,#1fa2ff);
 color:#00141a;
 padding:15px;
 text-align:center;
 font-size:26px;
 font-weight:bold;
 letter-spacing:1px;
 box-shadow:0 0 20px rgba(0,255,255,0.6);
}

/* Glass Box */
.box{
 max-width:900px;
 margin:30px auto;
 padding:25px;
 background:rgba(10,20,40,0.75);
 border-radius:14px;
 border:1px solid rgba(0,255,255,0.5);
 box-shadow:0 0 30px rgba(0,255,255,0.25);
 backdrop-filter:blur(6px);
 animation:fadeIn 0.4s ease;
}

@keyframes fadeIn{
 from{opacity:0; transform:translateY(20px) scale(0.98);}
 to{opacity:1; transform:translateY(0) scale(1);}
}

/* Buttons */
.btn{
 padding:12px 35px;
 font-size:18px;
 border:none;
 border-radius:30px;
 background:linear-gradient(90deg,#00ffe7,#1fa2ff);
 cursor:pointer;
 font-weight:bold;
 color:#00141a;
 transition:0.2s;
}

.btn:hover{
 transform:scale(1.07);
 box-shadow:0 0 20px cyan;
}

.btn:active{ transform:scale(0.95); }

/* Timer */
.timer{
 text-align:center;
 color:#00ffe7;
 font-size:22px;
 margin-top:12px;
 letter-spacing:1px;
}

/* Questions */
.question{
 display:none;
 animation:slide 0.35s ease;
}

@keyframes slide{
 from{opacity:0; transform:translateX(50px);}
 to{opacity:1; transform:translateX(0);}
}

.nav-btns{
 text-align:center;
 margin-top:25px;
}

label{
 display:block;
 padding:8px;
 border-radius:10px;
 transition:0.2s;
 border:1px solid transparent;
}

label:hover{
 background:rgba(0,255,255,0.08);
 border:1px solid rgba(0,255,255,0.4);
 box-shadow:0 0 10px rgba(0,255,255,0.4);
}

input[type=radio]{
 transform:scale(1.2);
 margin-right:10px;
 accent-color:#00ffe7;
}

/* Input */
input[type=text]{
 background:#020b1a;
 color:#7ffcff;
 border:1px solid rgba(0,255,255,0.4);
}

input[type=text]:focus{
 outline:none;
 box-shadow:0 0 10px cyan;
}

/* Images */
img{
 border-radius:10px;
 border:1px solid rgba(0,255,255,0.6);
 margin:8px 0;
 box-shadow:0 0 12px rgba(0,255,255,0.3);
}
</style>
</head>

<body>

<div class="header">üß† Data Mining Round ‚Äî AI Quest</div>

<div class="timer">
‚è± Neural Sync: <span id="timer">{{ remaining }}</span> sec
</div>

<form method="post" id="quizForm">
{% csrf_token %}

<!-- INSTRUCTIONS -->
<div class="box" id="instructionBox">
<h2>üß¨ System Instructions</h2>
<ul>
<li>External data access permitted.</li>
<li>System refresh is prohibited.</li>
<li>Auto data upload when timer ends.</li>
</ul>
<br>
<button type="button" class="btn" onclick="showName()">Initialize Player</button>
</div>

<!-- NAME -->
<div class="box" id="nameBox" style="display:none;">
<h2>üë§ Identity Verification</h2>
<input type="text" name="name" required style="width:100%;padding:12px;border-radius:8px;font-size:16px;">
<br><br>
<button type="button" class="btn" onclick="startQuiz()">Enter Simulation</button>
</div>

<!-- QUIZ -->
<div id="quizBox" style="display:none;">

{% for q in questions %}
<div class="box question">

<b>{{ forloop.counter }}. {{ q.text }}</b><br>

{% if q.question_image %}
<img src="{{ q.question_image.url }}" width="300"><br>
{% endif %}

{% if q.question_type == "MCQ" %}

<label><input type="radio" name="{{ q.id }}" value="1"> {{ q.option1 }}
{% if q.option1_image %}<br><img src="{{ q.option1_image.url }}" width="120">{% endif %}</label>

<label><input type="radio" name="{{ q.id }}" value="2"> {{ q.option2 }}
{% if q.option2_image %}<br><img src="{{ q.option2_image.url }}" width="120">{% endif %}</label>

<label><input type="radio" name="{{ q.id }}" value="3"> {{ q.option3 }}
{% if q.option3_image %}<br><img src="{{ q.option3_image.url }}" width="120">{% endif %}</label>

<label><input type="radio" name="{{ q.id }}" value="4"> {{ q.option4 }}
{% if q.option4_image %}<br><img src="{{ q.option4_image.url }}" width="120">{% endif %}</label>

{% else %}
<input type="text" name="{{ q.id }}" placeholder="Enter decoded data..." style="width:100%;padding:12px;border-radius:8px;">
{% endif %}

</div>
{% endfor %}

<div class="nav-btns">
<button type="button" class="btn" onclick="prevQ()">‚¨Ö Back</button>
<button type="button" class="btn" onclick="nextQ()">Next ‚û°</button>
<button type="submit" class="btn" id="submitBtn" style="display:none;">üöÄ Upload Data</button>
</div>

</div>
</form>

<script>
let qIndex=0;
let questions=document.getElementsByClassName("question");

function showName(){
 document.getElementById("instructionBox").style.display="none";
 document.getElementById("nameBox").style.display="block";
}

function startQuiz(){
 document.getElementById("nameBox").style.display="none";
 document.getElementById("quizBox").style.display="block";
 showQuestion();
}

function showQuestion(){
 for(let i=0;i<questions.length;i++)questions[i].style.display="none";
 questions[qIndex].style.display="block";
 document.getElementById("submitBtn").style.display =
 (qIndex==questions.length-1)?"inline-block":"none";
}

function nextQ(){ if(qIndex<questions.length-1){ qIndex++; showQuestion(); } }
function prevQ(){ if(qIndex>0){ qIndex--; showQuestion(); } }

let time={{ remaining }};
let timer=document.getElementById("timer");
let form=document.getElementById("quizForm");

setInterval(function(){
 if(time>0){
   time--;
   timer.innerText=time;

   if(time<10){
     timer.style.color="#ff4d6d";
     timer.style.textShadow="0 0 15px red";
     timer.style.fontWeight="bold";
   }
 }
 else{
   form.submit();
 }
},1000);
</script>

</body>
</html>
